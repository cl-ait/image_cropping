# Image Cropper

このツールは、OpenAI の GPT-4 Vision モデルを活用して、指定された画像内の特定領域を自動でクロップ（切り抜き）する Python プログラムです。指示文（プロンプト）を入力するだけで、対象物の座標を取得し、クロップ画像を生成・表示します。

---

## 仕様

- GPT-4o（GPT-4 Vision）を使用して画像解析を実施
- 指定した自然言語の説明に基づいてクロップ領域を自動算出
- PIL と matplotlib による画像の視覚的表示
- クロップ結果と元画像を並べて確認可能
- 日本語説明文にも対応（matplotlib用フォント設定済み）

---
## 注意
API Key を環境変数に設定してから、行ってください

## 必要なライブラリ

以下のライブラリが必要：

```bash
pip install openai Pillow matplotlib
```

## 使い方
```bash
python cropping.py --image path/to/image.jpg --instruction "右上のリンゴ"
```

## 出力例
入力画像に赤い枠でクロップ領域を表示

元画像（左）と16:9に調整された切り抜き画像（右）を並べて視覚的に表示

クロップ領域の座標と GPT による簡易説明も表示

## 日本語フォント対応について
matplotlibで日本語を正しく表示するために、OSごとに最適なフォントを自動選択する仕組みが含まれています。

## 注意点
GPTから返されるJSONの形式が崩れている場合は、プログラムが自動修正を試みますが、完全にはできない場合もあります。

画像サイズや指示内容によっては、期待する領域を正確にクロップできないこともあります。

